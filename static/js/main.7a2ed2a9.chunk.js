(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[,,,,,,,,,,function(e,n,t){e.exports=t(20)},,,,,,function(e,n,t){},function(e,n,t){},function(e,n,t){},function(e,n,t){},function(e,n,t){"use strict";t.r(n);var a=t(0),r=t.n(a),c=t(4),o=t.n(c),u=(t(16),t(5)),l=t(6),i=t(8),s=t(7),f=t(9),m=(t(17),t(1)),b=t(2),p=(t(18),t(19),function(e){var n=e.clickFn,t=e.revealed,a=(e.cellNum,e.bomb),c=e.content,o=e.handleRightClick,u=e.flag;var l=["cell"];t&&l.push("cleared"),t&&a&&l.push("bomb");var i="",s="#FFFFFF";return t&&0!==c?(i=c,s=function(e){switch(e){case 1:return"#0b24fb";case 2:return"#228224";case 3:return"#fc0d1b";case 4:return"#020b79";case 5:return"#86272b";case 6:return"#007b7b";case 7:return"#090002";case 8:return"#7b7b7b";default:return"#000"}}(c)):!t&&u&&(i="F"),r.a.createElement("div",{className:l.join(" "),onClick:n,onContextMenu:o,style:{color:s}},i)}),v=function(e){var n=e.height,t=e.width,c=e.numBombs,o=Object(a.useState)(!0),u=Object(b.a)(o,2),l=u[0],i=u[1],s=n*t,f=function(e,a){return e<0||a<0?null:e>t-1||a>n-1?null:{x:e,y:a}},v=function(e,n){return[f(e-1,n-1),f(e,n-1),f(e+1,n-1),f(e-1,n),f(e+1,n),f(e-1,n+1),f(e,n+1),f(e+1,n+1)].filter(function(e){return null!==e})},d=function(){for(var e,a=[],r=[],o=n*t,u=[],l=[],i=0;i<o;i++)u.push(i);for(var s=0;s<c;s++){var f=(e=u.length,Math.floor(Math.random()*Math.floor(e)));l.push(u.splice(f,1)[0])}for(var m=0;m<n;m++){for(var b=0;b<t;b++){var p=m+b+m*(t-1);r.push({revealed:!1,bomb:l.includes(p),cellNum:p,flag:!1})}a.push(r),r=[]}for(var d=0;d<n;d++)for(var h=function(e){var n=v(e,d),t=0;n.forEach(function(e){a[e.y][e.x].bomb&&t++}),a[d][e].count=t},g=0;g<t;g++)h(g);return a},h=d(),g=Object(a.useState)(h),E=Object(b.a)(g,2),y=E[0],j=E[1];function O(e,n){var t=[];return function e(n,a){0===y[a][n].count?t.some(function(e){return e.x===n&&e.y===a})||(t.push({x:n,y:a}),v(n,a).forEach(function(n){e(n.x,n.y)})):t.push({x:n,y:a})}(e,n),t}var w=function(){var e=0;return y.forEach(function(n){e=n.reduce(function(e,n){return n.revealed?e+1:e},e)}),e}(),k=function(){var e=0;return y.forEach(function(n){e=n.reduce(function(e,n){return n.flag?e+1:e},e)}),e}();return r.a.createElement("div",{className:"app"},r.a.createElement("div",null,r.a.createElement("div",{className:"announce"},l?null:s-(w+c)===0?r.a.createElement("p",null,"Win!"):r.a.createElement("p",null,"Game over!")),r.a.createElement("div",{onClick:function(){!function(){var e=d();j(e,i(!0))}()},className:"button"},r.a.createElement("p",null,"Reset game")),r.a.createElement("p",null,"Bombs left? ",c-k)),r.a.createElement("div",{className:"board",style:{gridTemplateColumns:"repeat(".concat(t,", 25px)"),gridTemplateRows:"repeat(".concat(n,", 25px)")}},y.map(function(e,n){return e.map(function(e,t){return r.a.createElement(p,{clickFn:l?function(e){!function(e,n,t){if(t.preventDefault(),console.log("click type",t.type),y[n][e].bomb){console.log("BANGG!");var a=y.map(function(e){return e.map(function(e){return Object.assign({},e)})});a[n][e]=Object.assign({},Object(m.a)({},a[n][e],{revealed:!0})),j(a),i(!1)}else{console.log(O(e,n));var r=O(e,n),c=y.map(function(e,n){return e.map(function(e,t){return r.some(function(e){return e.x===t&&e.y===n})?Object.assign({},Object(m.a)({},e,{revealed:!0})):Object.assign({},e)})});j(c)}}(t,n,e)}:null,handleRightClick:function(e){!function(e,n,t){console.log("event.type",t.type),t.preventDefault(),console.log("dd");var a=y.map(function(e){return e.map(function(e){return Object.assign({},e)})});a[n][e]=Object.assign({},Object(m.a)({},a[n][e],{flag:!a[n][e].flag})),j(a)}(t,n,e)},revealed:e.revealed,key:e.cellNum,cellNum:e.cellNum,bomb:e.bomb,content:e.bomb?"X":e.count,flag:e.flag})})})))},d=function(e){function n(){return Object(u.a)(this,n),Object(i.a)(this,Object(s.a)(n).apply(this,arguments))}return Object(f.a)(n,e),Object(l.a)(n,[{key:"render",value:function(){return r.a.createElement("div",{className:"App"},r.a.createElement("h1",null,"Minesweeper"),r.a.createElement("div",{style:{display:"inline-block"}},r.a.createElement(v,{width:15,height:15,numBombs:40})))}}]),n}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(d,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}],[[10,1,2]]]);
//# sourceMappingURL=main.7a2ed2a9.chunk.js.map