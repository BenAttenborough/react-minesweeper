(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[,,,,,,,,,,function(e,n,t){e.exports=t(20)},,,,,,function(e,n,t){},function(e,n,t){},function(e,n,t){},function(e,n,t){},function(e,n,t){"use strict";t.r(n);var a=t(0),r=t.n(a),c=t(4),o=t.n(c),l=(t(16),t(5)),u=t(6),i=t(8),s=t(7),f=t(9),m=(t(17),t(2)),b=t(1),p=(t(18),t(19),function(e){var n=e.clickFn,t=e.revealed,a=(e.cellNum,e.bomb),c=e.content,o=e.handleRightClick,l=e.flag;var u=["cell"];t&&u.push("cleared"),t&&a&&u.push("bomb");var i="",s="#FFFFFF";return t&&0!==c?(i=c,s=function(e){switch(e){case 1:return"#0b24fb";case 2:return"#228224";case 3:return"#fc0d1b";case 4:return"#020b79";case 5:return"#86272b";case 6:return"#007b7b";case 7:return"#090002";case 8:return"#7b7b7b";default:return"#000"}}(c)):!t&&l&&(i="F"),console.log("Cell color:",s),r.a.createElement("div",{className:u.join(" "),onClick:n,onContextMenu:o,style:{color:s}},i)}),v=function(e){var n=e.height,t=e.width,c=e.numBombs,o=Object(a.useState)(!0),l=Object(b.a)(o,2),u=l[0],i=l[1],s=Object(a.useState)(c),f=Object(b.a)(s,2),v=f[0],d=f[1],h=n*t,g=function(e,a){return e<0||a<0?null:e>t-1||a>n-1?null:{x:e,y:a}},E=function(e,n){return[g(e-1,n-1),g(e,n-1),g(e+1,n-1),g(e-1,n),g(e+1,n),g(e-1,n+1),g(e,n+1),g(e+1,n+1)].filter(function(e){return null!==e})},j=function(){for(var e,a=[],r=[],o=n*t,l=[],u=[],i=0;i<o;i++)l.push(i);for(var s=0;s<c;s++){var f=(e=l.length,Math.floor(Math.random()*Math.floor(e)));u.push(l.splice(f,1)[0])}for(var m=0;m<n;m++){for(var b=0;b<t;b++){var p=m+b+m*(t-1);r.push({revealed:!1,bomb:u.includes(p),cellNum:p,flag:!1})}a.push(r),r=[]}for(var v=0;v<n;v++)for(var d=function(e){var n=E(e,v),t=0;n.forEach(function(e){a[e.y][e.x].bomb&&t++}),a[v][e].count=t},h=0;h<t;h++)d(h);return a},y=j();console.log(y);var O=Object(a.useState)(y),w=Object(b.a)(O,2),k=w[0],x=w[1];function N(e,n){var t=[];return function e(n,a){0===k[a][n].count?t.some(function(e){return e.x===n&&e.y===a})||(t.push({x:n,y:a}),E(n,a).forEach(function(n){e(n.x,n.y)})):t.push({x:n,y:a})}(e,n),t}var F=0;return k.forEach(function(e){F=e.reduce(function(e,n){return n.revealed?e+1:e},F)}),r.a.createElement("div",{className:"app"},r.a.createElement("div",null,u?r.a.createElement("p",null,"Running"):h-(F+c)===0?r.a.createElement("p",null,"Win!"):r.a.createElement("p",null,"Game over!"),r.a.createElement("div",{onClick:function(){!function(){var e=j();console.log("cells",e),x(e,i(!0))}()}},r.a.createElement("p",null,"Reset")),r.a.createElement("p",null,"Bombs: ",v),h-(F+c)?r.a.createElement("p",null,"Danger squares left: ",h-(F+c)):r.a.createElement("p",null,"Well done!")),r.a.createElement("div",{className:"board",style:{gridTemplateColumns:"repeat(".concat(t,", 25px)"),gridTemplateRows:"repeat(".concat(n,", 25px)")}},k.map(function(e,n){return e.map(function(e,t){return r.a.createElement(p,{clickFn:u?function(e){!function(e,n,t){if(t.preventDefault(),console.log("click type",t.type),k[n][e].bomb){console.log("BANGG!");var a=k.map(function(e){return e.map(function(e){return Object.assign({},e)})});a[n][e]=Object.assign({},Object(m.a)({},a[n][e],{revealed:!0})),x(a),i(!1)}else{console.log(N(e,n));var r=N(e,n),c=k.map(function(e,n){return e.map(function(e,t){return r.some(function(e){return e.x===t&&e.y===n})?Object.assign({},Object(m.a)({},e,{revealed:!0})):Object.assign({},e)})});x(c)}}(t,n,e)}:null,handleRightClick:function(e){!function(e,n,t){console.log("event.type",t.type),t.preventDefault(),console.log("dd");var a=k.map(function(e){return e.map(function(e){return Object.assign({},e)})});a[n][e]=Object.assign({},Object(m.a)({},a[n][e],{flag:!a[n][e].flag})),x(a),d(function(){return v>0?v-1:v})}(t,n,e)},revealed:e.revealed,key:e.cellNum,cellNum:e.cellNum,bomb:e.bomb,content:e.bomb?"X":e.count,flag:e.flag})})})))},d=function(e){function n(){return Object(l.a)(this,n),Object(i.a)(this,Object(s.a)(n).apply(this,arguments))}return Object(f.a)(n,e),Object(u.a)(n,[{key:"render",value:function(){return r.a.createElement("div",{className:"App"},r.a.createElement("h1",null,"Minesweeper"),r.a.createElement("div",{style:{display:"inline-block"}},r.a.createElement(v,{width:15,height:15,numBombs:40})))}}]),n}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(d,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}],[[10,1,2]]]);
//# sourceMappingURL=main.cb05c841.chunk.js.map